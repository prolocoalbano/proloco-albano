<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Loco Albano di Lucania</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary-color: #5d9cec; --accent-color: #4fc1e9; --light-bg: #f5f9ff; }
        body { font-family: 'Segoe UI', sans-serif; color: #444; margin:0; }
        .navbar { border-bottom: 1px solid #eee; background: white !important; }
        .nav-link { font-weight: 600; font-size: 0.82rem !important; text-transform: uppercase; color: #666 !important; padding: 5px 8px !important; }
        .hero-section { background: #5d9cec; background-size: cover; height: 50vh; display: flex; align-items: center; justify-content: center; color: white; text-align: center; }
        
        /* Layout stile Montespertoli */
        .mission-row { display: flex; flex-wrap: wrap; margin: 0; }
        .mission-img-col { padding: 0; min-height: 400px; background: #eee; }
        .mission-img-col img { width: 100%; height: 100%; object-fit: cover; }
        .mission-text-col { padding: 60px; background-color: var(--light-bg); display: flex; flex-direction: column; justify-content: center; }
        .mission-text-col h2 { color: var(--primary-color); font-weight: bold; text-transform: uppercase; }
        
        .badge-evento { background: white; color: var(--primary-color); padding: 10px 20px; border-radius: 4px; margin: 5px; border: 1px solid #ddd; display: inline-block; font-weight: bold; }
        .gallery-img { width: 100%; height: 250px; object-fit: cover; }
        #photoModal { display: none; position: fixed; z-index: 9999; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.9); align-items: center; justify-content: center; }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top py-1">
    <div class="container-fluid px-4">
        <a class="navbar-brand fw-bold" href="#" id="nav-brand">PRO LOCO</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="chi-siamo.html">Chi siamo</a></li>
                <li class="nav-item"><a class="nav-link" href="guestbook.html" style="color:var(--accent-color)!important;">Diario</a></li>
            </ul>
        </div>
    </div>
</nav>

<header class="hero-section" id="hero-bg">
    <div class="container">
        <h1 id="hero-titolo">Titolo di Prova</h1>
        <p id="hero-sottotitolo">Sottotitolo di Prova</p>
    </div>
</header>

<section class="container-fluid px-0">
    <div class="row g-0 mission-row">
        <div class="col-lg-6 mission-img-col">
            <img id="mission-img-tag" src="https://via.placeholder.com/800x600?text=Immagine+Mission">
        </div>
        <div class="col-lg-6 mission-text-col">
            <h2 id="mission-titolo">Mission</h2>
            <p id="mission-testo">Se vedi questo testo, il file JSON non Ã¨ stato caricato correttamente.</p>
        </div>
    </div>
</section>

<div class="container py-5 text-center">
    <div id="attivita-lista"></div>
</div>

<div id="gallery-container" class="row g-0"></div>

<script>
    const datiEsempio = {
        nomeProLoco: "PRO LOCO ALBANO",
        heroTitolo: "Albano di Lucania",
        heroSottotitolo: "Il borgo della magia",
        sezioneMissionTitolo: "Benvenuti",
        sezioneMissionTesto: "Stiamo caricando i contenuti definitivi dal file JSON..."
    };

    async function caricaDati() {
        try {
            const res = await fetch('./contenuti-vetrina.json');
            if (!res.ok) throw new Error();
            const data = await res.json();
            aggiornaPagina(data);
        } catch (e) {
            console.log("JSON non trovato, uso dati di esempio.");
            aggiornaPagina(datiEsempio);
        }
    }

    function aggiornaPagina(data) {
        document.getElementById('nav-brand').innerText = data.nomeProLoco;
        document.getElementById('hero-titolo').innerText = data.heroTitolo;
        document.getElementById('hero-sottotitolo').innerText = data.heroSottotitolo;
        document.getElementById('mission-titolo').innerText = data.sezioneMissionTitolo;
        document.getElementById('mission-testo').innerText = data.sezioneMissionTesto;
        if(data.fotoCentrale) document.getElementById('mission-img-tag').src = data.fotoCentrale;
        if(data.fotoSfondo) document.getElementById('hero-bg').style.backgroundImage = "url("+data.fotoSfondo+")";
    }

    caricaDati();
</script>
</body>
</html>
